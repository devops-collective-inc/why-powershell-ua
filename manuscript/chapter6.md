# Віддалене керування через PowerShell? ( Відповідаємо на всі "Чому")

Ще одне велике питання, яке виникає - "чому ми повинні включати віддалене керування через PowerShell ?"

Спершу зрозумійте пару речей - які здадуться трохи грубими. Вибачте.
- Віддалене керування через PowerShell  існує з 2008 року. Якщо ви серйозно задаєтесь цим питанням лише зараз, значить ви погано справляєтесь з управлінням свого ІТ-середовища. Також з 2008 року були випущені  смарт-годинники, Microsoft (раніше Windows) Azure, Тесла Родстер,  "Крижане серце" від Діснея, доступні світлодіодні лампочки, а також iPhone моделі 3G, 3GS, 4, 4S, 5, 5S та 6. Про всяк випадок, якщо ви раптом і їх пропустили.
- Інформаційні технології - це галузь змін. Цілком розважливі рішення, які ви прийняли у 2003 році, необхідно періодично переглядати через вищезазначені зміни.

Так з цим розібрались, тепер давайте коротко поговоримо про...
## Що таке віддалене керування через PowerShell?
Віддалене керування - це простий спосіб для інструментів управління на одному комп'ютері спілкуватись з сервісами на іншому комп'ютері дозволяючи вам віддалене керування цими сервісами.

Віддалене керування базується на HTTP та використовує протокол під назвою WS-Management (WS-MAN). Він вимагає, щоб сервери мали єдиний відкритий порт, і маршрутизували весь вхідний трафік для управління через цей один порт. Трафік WS-MAN може логуватись, маршрутизуватись через сервери безпеки (надані третьою стороною) і може бути повністю зашифрований за допомогою SSL.

Як і увесь HTTP трафік , віддалене керування по суті передає текст туди і назад. Віддалене керування просто визначає спосіб представлення цього тексту (переважно у XML варіанті ), щоб інструменти та служби могли зрозуміти один одного.

Віддалене керування жодним чином не впливає на безпеку вашої мережі при налаштуваннях за замовчуванням. За замовчуванням імена користувачів чи паролі (зашифровані чи в якомусь іншому вигляді) не передаються. У недоменному середовищі ви можете створити середовище, в якому будуть передаватися паролі, але вимагається, щоб вони було зашифровані SSL, тобто ви будете використовувати HTTPS.

Віддалене керування ні  в якому разі  не надає нікому особливих прав. Технологія буквально не може дозволити комусь робити те, на що вони не мають дозволу, звичайно якщо ви не пройшли досить складну процедуру для налаштування делегованого адміністрування. У такому випадку ви можете дозволити конкретним користувачам виконувати конкретні завдання, які для них зазвичай не є дозволеними, але лише через визначений канал та інтерфейс, який ви створили.

## Порівняння віддаленого керування з тим, що було раніше
До появи віддаленого керування більшість дистанційного керування у Windows здійснювалося через віддалений виклик процедур  або RPC. Зазвичай вони застосовують перехідні порти, що значно ускладнює їхнє управління через брандмауер. На відміну від одного порта з яким доведеться мати справу під час використання віддаленого керування.

Багато організацій в наш час просто встановлюють інструменти управління на сервери, а потім використовують віддалений робочий стіл для "віддаленого управління". Це неймовірно погана ідея і основна причина чому Windows Server отримує стільки патчів, стільки перезавантажень та інших захворювань. Код необхідний для підтримки повного графічного інтерфейсу, а отже, і RDP, є дуже громіздким, а це означає що патчі є неминучими. Запуск інструментів управління _на сервері_, як правило, з повноваженнями адміністратора, відкриває двері для атаки.

Коротше кажучи, виглядає так, що більшість організацій, стурбовані безпекою через "наслідки" від віддаленого керування PowerShell. Наслідки **значні** - віддалене керування **набагато** безпечніше, ніж те, що ви робили раніше. Воно також є більш ефективним,  приносить менше накладних витрат на сервери і дозволяє серверам працювати з більш компактною операційною системою, яка вимагатиме менше патчів, менше перезавантажень і менше сервіс паків. Також ці сервери завантажуватимуться швидше, запускатимуть меншу кількість процесів, запускатимуть менше сервісів та будуть споживати менше місця для зберігання ОС. Ці сервери вимагатимуть менших накладних витрат на операційну систему, тобто ви можете пакувати більше серверів у хості віртуалізації. Звучить жахливо, правда?

## Але ось найкраща причина
Простіше кажучи, головна причина увімкнення віддаленого керування - це те, що _у вас немає вибору_. Microsoft твердо рухається в цьому напрямку та включає віддалене керування за замовчуванням на Windows Server 2012 та пізніших версіях. Компанія за замовчуванням _відключає_ віддалений робочий стіл, немовби натякаючи вам на щось.

Крім того, на Nano Server _консольний логін навіть не є можливим_, використовуєте ви віддалений робочий стіл чи ні. Локального логіну немає. Віддалене керування, _буквально, єдиний варіант_ управління сервером. Саме так все і залишиться надалі. 

Працювати в середовищі Windows, не вмикаючи віддалене керування - принаймні на серверах - це як керувати автомобілем, не бажаючи натискати на газ. Це не дуже весело, і ви не заїдете  дуже далеко.
